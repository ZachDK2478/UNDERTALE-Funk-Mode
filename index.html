<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <meta name="description" content="The official website for UNDERTALE: Funk-Mode.">
    <meta name="keywords" content="UNDERTALE, Funk-Mode, UTFM, FNF, Mod">
    
    <!-- Open Graph (Social Media Embeds) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="UNDERTALE: Funk-Mode Website">
    <meta name="twitter:description" content="The official website of the UNDERTALE: Funk-Mode FNF Mod!">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/ZachDK2478/utfm-newsletter-spring2025/refs/heads/main/image/motivational-car.jpg">
    
    <title>UNDERTALE: Funk-Mode</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/ZachDK2478/UNDERTALE-Funk-Mode/refs/heads/main/images/favicon/utfm-perseverance.ico">
    
    <!-- Fonts & Stylesheets -->
    <link rel="stylesheet" href="fonts.css">
    
    <!-- Scripts -->
    <script src="type-effect.js" defer></script>

    <style>
        /* ========== GLOBAL STYLES ========== */
        body {
            background-image: url("images/bg/test-funkmodebg.png");
            background-attachment: fixed;
            background-position: center;
            background-size: cover;
        }

        /* ========== TEXT STYLES ========== */
        @font-face {
            font-family: 'UndertaleFont';
            src: url('https://raw.githubusercontent.com/ZachDK2478/UNDERTALE-Funk-Mode/main/fonts/DeterminationSansRegular.ttf') format('truetype');
        }

        p {
            max-width: 850px;
            word-wrap: break-word;
            margin: auto;
            text-align: center;
            color: white;
        }

        /* ========== TEXTBOX STYLES ========== */
        .textbox {
            font-family: 'UndertaleFont', 'Courier New', monospace;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            flex-direction: row;
            background-color: black;
            color: white;
            border: 4px solid white;
            padding: 15px;
            font-size: 30px;
            line-height: 1.5;
            text-align: left;
            max-width: 50%;
            min-width: 250px;
            width: auto;
            height: auto;
            max-height: 90vh;
            margin: 20px auto;
            overflow: hidden;
            word-wrap: break-word;
        }

        /* ========== CHARACTER ICON STYLES ========== */
        .character-icon {
            width: 140px;
            height: 116px;
            image-rendering: pixelated;
            object-fit: contain;
            margin-right: 15px;
        }

        /* ========== TEXTBOX LINK STYLES ========== */
        .textbox a {
            color: #ffcc00;
            text-decoration: none;
        }

        .textbox a:hover {
            text-decoration: underline;
        }
    </style>
</head>

<body>

    <!-- Audio File (Preloaded for Faster Playback) -->
    <audio id="select-sound" preload="auto">
        <source src="audio/snd_select.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <script>
        var audio = document.getElementById("myaudio");
        audio.volume = 0.5;

        function playDaMusic() {
            audio.currentTime = 0;
            audio.play();
        }

        playDaMusic();
        document.addEventListener('click', musicPlay);
        function musicPlay() {
            if (audio.currentTime == 0) playDaMusic();
            document.removeEventListener('click', musicPlay);
        }
    </script>

    <!-- ========== TEXTBOXES ========== -->
    <div class="textbox">
        <img class="character-icon" src="https://ik.imagekit.io/edq6pdk5b/image.png?updatedAt=1740085080880" alt="Gfriend-Icon">
        <p>Hi there! Welcome to the official UNDERTALE: Funk-Mode website!</p>
    </div>

    <div class="textbox">
        <img class="character-icon" src="https://ik.imagekit.io/edq6pdk5b/gfriend3.png" alt="Gfriend-Icon-Curious">
        <p>
            I don't know how you got access to this site, as we haven't given the link out to anyone yet. 
            But while you're here, please take a look at the &nbsp; 
            <a href="https://x.com/UTfunkmode" target="_blank" id="click-link">official UNDERTALE: Funk-Mode Twitter account</a> 
            &nbsp; as it's yet another good place to stay up to date on Funk-Mode news!
        </p>
    </div>

    <div class="textbox">
        <img class="character-icon" src="https://ik.imagekit.io/edq6pdk5b/gfrien4.png" alt="Gfriend-Icon-Worry">
        <p>Huh? What's that? What do you mean the website is unfinished?</p>
    </div>

    <!-- JavaScript Inside HTML (No External JS File) -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let link = document.getElementById("click-link");
            let selectSound = document.getElementById("select-sound");

            link.addEventListener("click", function(event) {
                event.preventDefault(); // Prevent immediate navigation

                // Ensure the sound is ready and play it
                selectSound.currentTime = 0;
                selectSound.play().then(() => {
                    // Open the link in a new tab AFTER the sound starts
                    setTimeout(() => {
                        window.open(link.href, "_blank");
                    }, 300);
                }).catch(error => {
                    console.log("Audio playback blocked by browser:", error);
                    window.open(link.href, "_blank"); // Open the link anyway if sound is blocked
                });
            });
        });
    </script>

    
</body>
</html>
